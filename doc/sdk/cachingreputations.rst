Caching Reputations
===================

Any client who request reputations from TIE should cache results they receive for a period of time to prevent unnecessary repeated reputation calls to the TIE service. Whenever a reputation changes within the TIE service a Reputation Change Event is sent out to all subscribed clients who have previously requested the reputation of the item. These reputation change events include the old and new reputations to allow updating of the local cache without sending an additional reputation request. For further information please refer to Test Scenarios for TIE Server Consumer section caching in :ref:`caching`.
If  the connection to the DXL fabric is lost, a client sends a Reputation Update Request with the last time in which they received a successful response from the TIE Server. This request retrieves the hashes of all the items that changed their reputations since the last response time. These hashes can then be evicted from the local cache to be queried again the next time they are needed. It is recommended that the serverTime obtained from the last time a reputation request was issued is kept locally by the client so that this timestamp is used in the reputation updates request.